<!DOCTYPE HTML>
<html>

<head>
	<title>audizo</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Rokkitt:100,300,400,700" rel="stylesheet">

	<!-- Animate.css -->
	<link rel="stylesheet" href="/static/userImages/css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="/static/userImages/css/icomoon.css">
	<!-- Ion Icon Fonts-->
	<link rel="stylesheet" href="/static/userImages/css/ionicons.min.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="/static/userImages/css/bootstrap.min.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="/static/userImages/css/magnific-popup.css">

	<!-- Flexslider  -->
	<link rel="stylesheet" href="/static/userImages/css/flexslider.css">

	<!-- Owl Carousel -->
	<link rel="stylesheet" href="/static/userImages/css/owl.carousel.min.css">
	<link rel="stylesheet" href="/static/userImages/css/owl.theme.default.min.css">

	<!-- Date Picker -->
	<link rel="stylesheet" href="/static/userImages/css/bootstrap-datepicker.css">
	<!-- Flaticons  -->
	<link rel="stylesheet" href="/static/userImages/flaticon/font/flaticon.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="/static/userImages/css/style.css">

	<style>
		.sort-by-container {
			display: flex;
			justify-content: flex-end;
			margin-bottom: 20px;
			align-items: center;
		}

		.sort-by-container label {
			margin-right: 10px;
		}

		#searchForm .form-control {

			padding: 18px;
		}

		#searchForm .input-group-append .btn {
			border-radius: 1 0.25rem 0.25rem 0;
			border: 1px solid #ced4da;
			border-left: none;
			background-color: grey;
		}

		#searchForm .input-group-append .btn .icon-search {
			color: white;
		}
		.prod-img img {
			transition: transform 0.3s ease;
		}

		.prod-img img:hover {
			transform: scale(1.10);
		}
	</style>

</head>

<body>

	<div class="colorlib-loader"></div>

	<div id="page">
		<nav class="colorlib-nav" role="navigation">
			<div class="top-menu">
				<div class="container">
					<div class="row">
						<div class="col-sm-7 col-md-9">
							<div id="colorlib-logo"><a href="/">AUDIZO.</a></div>
						</div>
						
					</div>
					<div class="row">
						<div class="col-sm-12 text-left menu-1">
							<ul>
								<li><a href="/">Home</a></li>
								<li class="has-dropdown active">
									<a href="/shop">Shop</a>
									<ul class="dropdown">
										<li><a href="/shop">Shop Products</a></li>
										<li><a href="/cart">Shopping Cart</a></li>
										<!-- <li><a href="checkout.html">Checkout</a></li>
										<li><a href="order-complete.html">Order Complete</a></li> -->
										<li><a href="/wishlist">Wishlist</a></li>
									</ul>
								</li>
								<!-- <li><a href="women.html">Women</a></li> -->
								<li><a href="/about">About</a></li>
								<!-- <li><a href="contact.html">Contact</a></li> -->
								<li class="cart"><a href="/cart"><i class="icon-shopping-cart"></i> cart</a></li>
								<li class="cart"><a href="/wishlist"><i class="icon-heart"></i>wishlist</a></li>

								<% if (isAuthenticated) { %>
									<li class="cart"><a href="/profile"><i class="icon-user"></i>
											<%=user.name %>
										</a></li>
									<% } else { %>
										<li class="cart"><a href="/login"><i class="icon-user"></i> Login</a></li>
										<% } %>


							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="sale">
				<div class="container">
					<div class="row">
						<div class="col-sm-8 offset-sm-2 text-center">
							<div class="row">
								<div class="owl-carousel2">
									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<div class="breadcrumbs">
			<div class="container">
				<div class="row">
					<div class="col">
						<p class="bread"><span><a href="/">Home</a></span> / <span>SHOP</span></p>
					</div>
				</div>
			</div>
		</div>
	
		<div class="colorlib-product">
			<div class="container">
				<div class="col-sm-8 offset-sm-2 text-center colorlib-heading colorlib-heading-sm">
					<h2>View All Products</h2>
				</div>
				<div class="row">
					<div class="col-lg-3 col-xl-3">
						<div class="row">
							<div class="col-sm-12">

								<div class="input-group">
									<input type="text" name="query" id="searchInput" class="form-control"
										placeholder="Search products..." <%if(search.length>0){%>
									value="<%= search%>"<%}%> >
											<div class="input-group-append">
												<button type="submit" class="btn btn-primary" onclick="search()">
													<span class="icon-search"></span>
												</button>
											</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="side border mb-1">
									<h3>Category</h3>

									<ul>
										<%category.forEach((category)=>{%>
											<li><a href="#" class="category-link"
													data-category-id="<%= category._id %>">
													<%= category.name%>
												</a>
											</li>
											<%})%>

									</ul>
								</div>
							</div>

							<div class="col-sm-12">
								<div class="side border mb-1">
									<h3>Price</h3>
									<ul>
										<li><a href="#" class="price-link" data-price-range="0-1000">Below 1000</a></li>
										<li><a href="#" class="price-link" data-price-range="1001-2000">1001-2000</a>
										</li>
										<li><a href="#" class="price-link" data-price-range="2001-3000">2001-3000</a>
										</li>
										<li><a href="#" class="price-link" data-price-range="3001-4000">3001-4000</a>
										</li>
										<li><a href="#" class="price-link" data-price-range="4001-5000">4001-5000</a>
										</li>
										<li><a href="#" class="price-link" data-price-range="5001-999999">Above 5000</a>
										</li>
									</ul>
								</div>
							</div>

						</div>
					</div>

					<div class="col-lg-9 col-xl-9">

						<div class="sort-by-container" id="sort-by">
							<label for="sort-by">SORT BY:</label>
							<select class="form-control w-25" id="sortOptions" name="sort-by" onchange="sortProduts()">
								<option value="" disabled selected>Select an option</option>
								<option value="newArrival" <%=sortOption==='newArrival' ? 'selected' : '' %>>New
									arrivals</option>
								<option value="priceLowToHigh" <%=sortOption==='priceLowToHigh' ? 'selected' : '' %>
									>Price: Low to High</option>
								<option value="priceHighToLow" <%=sortOption==='priceHighToLow' ? 'selected' : '' %>
									>Price: High to Low</option>
								<option value="nameAZ" <%=sortOption==='nameAZ' ? 'selected' : '' %>>A to Z</option>
								<option value="nameZA" <%=sortOption==='nameZA' ? 'selected' : '' %>>Z to A</option>
							</select>
						</div>


						<div class="row row-pb-md">
							<% products.forEach((product)=> { %>
								<div class="col-lg-4 mb-4 text-center">
									<div class="product-entry border">
										<a href="/productDetail/<%= product._id %>" class="prod-img">
											<img src="/static/userImages/images/<%= product.images[0] %>"
												class="img-fluid" alt="product image">
										</a>
										<div class="desc">
											<h2><a href="/productDetail/<%= product._id %>">
													<%= product.name %>
												</a></h2>
											<% if (product.discountPrice && product.discountPrice < product.price) { %>
												<span class="price">&#8377;<%= product.discountPrice %></span>
												<span class="price-cut" style="text-decoration: line-through;">&#8377;
													<%= product.price %>
												</span>
												<% } else { %>
													<span class="price">&#8377;<%= product.price %></span>
													<% } %>
										</div>
									</div>
								</div>
								<% }) %>
						</div> <!-- Close the row-pb-md -->

						<!-- Pagination -->
<div class="row">
    <div class="col-md-12 text-center">
        <div class="block-27">
            <ul>
                <% if (currentPage > 1) { %>
                    <li><a href="javascript:void(0)" onclick="navigateToPage('<%= currentPage - 1 %>')"><i class="ion-ios-arrow-back"></i></a></li>
                <% } %>
                <% for (let i = 1; i <= totalPages; i++) { %>
                    <li class="<%= i === currentPage ? 'active' : '' %>">
                        <a href="javascript:void(0)" onclick="navigateToPage('<%= i %>')"><%= i %></a>
                    </li>
                <% } %>
                <% if (currentPage < totalPages) { %>
                    <li><a href="javascript:void(0)" onclick="navigateToPage('<%= currentPage + 1 %>')"><i class="ion-ios-arrow-forward"></i></a></li>
                <% } %>
            </ul>
        </div>
    </div>
</div>
					</div>
				</div>
			</div>
		</div>

		<footer id="colorlib-footer" role="contentinfo" >
			<div class="container">
				<div class="row row-pb-md">
					<div class="col footer-col colorlib-widget">
						<h4 >About audizo</h4>
						<p> Weâ€™re dedicated to
							giving you the very best audio experience, with a focus on innovation, quality, and
							customer satisfaction.</p>
						<!-- <p>
						<ul class="colorlib-social-icons">
							<li><a href="#"><i class="icon-twitter"></i></a></li>
							<li><a href="#"><i class="icon-facebook"></i></a></li>
							<li><a href="#"><i class="icon-linkedin"></i></a></li>
							<li><a href="#"><i class="icon-dribbble"></i></a></li>
						</ul>
						</p> -->
					</div>
					<div class="col footer-col colorlib-widget" >
						<h4 >Customer Care</h4>
						<p>
						<ul class="colorlib-footer-links" >
							<li><a href="/about">Contact</a></li>
							<li><a href="/myOrders">Returns/Exchange</a></li>
							<li><a href="/cart">Gift Voucher</a></li>
							<li><a href="/wishlist">Wishlist</a></li>
							<li><a href="#">Special</a></li>
							<li><a href="/about">Customer Services</a></li>
						</ul>
						</p>
					</div>
					<div class="col footer-col colorlib-widget">
						<h4>Information</h4>
						<p>
						<ul class="colorlib-footer-links" >
							<li><a href="/about">About us</a></li>
							<li><a href="/myOrders">Delivery Information</a></li>
							<li><a href="/about">Privacy Policy</a></li>
							<li><a href="/about">Support</a></li>
							<li><a href="myOrders">Order Tracking</a></li>
						</ul>
						</p>
					</div>

					<div class="col footer-col">
						<h4>News</h4>
						<ul class="colorlib-footer-links">
							<li><a href="blog.html">Blog</a></li>
							<li><a href="#">Press</a></li>
							<li><a href="#">Exhibitions</a></li>
						</ul>
					</div>

					<div class="col footer-col">
						<h4>Contact Information</h4>
						<ul class="colorlib-footer-links">
							<li>291 South 21th Street, <br>Koramangala,Banglore</li>
							<li><a href="zoaudi866@gmail.com">zoaudi866@gmail.com</a></li>
							
						</ul>
					</div>
				</div>
			</div>
			<div class="copy">
				<div class="row">
					<div class="col-sm-12 text-center">
						<p>
							<span><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
								Copyright &copy;
								<script>document.write(new Date().getFullYear());</script> AUDIZO
							</span>
							
						</p>
					</div>
				</div>
			</div>
		</footer>
	</div>

			<div class="gototop js-top">
				<a href="#" class="js-gotop"><i class="ion-ios-arrow-up"></i></a>
			</div>

			<!-- jQuery -->
			<script src="/static/userImages/js/jquery.min.js"></script>
			<!-- popper -->
			<script src="/static/userImages/js/popper.min.js"></script>
			<!-- bootstrap 4.1 -->
			<script src="/static/userImages/js/bootstrap.min.js"></script>
			<!-- jQuery easing -->
			<script src="/static/userImages/js/jquery.easing.1.3.js"></script>
			<!-- Waypoints -->
			<script src="/static/userImages/js/jquery.waypoints.min.js"></script>
			<!-- Flexslider -->
			<script src="/static/userImages/js/jquery.flexslider-min.js"></script>
			<!-- Owl carousel -->
			<script src="/static/userImages/js/owl.carousel.min.js"></script>
			<!-- Magnific Popup -->
			<script src="/static/userImages/js/jquery.magnific-popup.min.js"></script>
			<script src="/static/userImages/js/magnific-popup-options.js"></script>
			<!-- Date Picker -->
			<script src="/static/userImages/js/bootstrap-datepicker.js"></script>
			<!-- Stellar Parallax -->
			<script src="/static/userImages/js/jquery.stellar.min.js"></script>
			<!-- Main -->
			<script src="/static/userImages/js/main.js"></script>
			<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
			<script>
			

				let selectedOption = document.getElementById('sortOptions').value;
				let searchInput = document.getElementById("searchInput").value;
				let selectedCategory = "";
				let selectedPriceRange = "";

				const sortProduts = () => {

					selectedOption = document.getElementById('sortOptions').value;
					window.location.href = `/sortFilter?sortOption=${selectedOption}&searchQuery=${searchInput}&category=${selectedCategory}&priceRange=${selectedPriceRange}`;

				};
				const search = () => {
					searchInput = document.getElementById("searchInput").value;
					window.location.href = `/sortFilter?sortOption=${selectedOption}&searchQuery=${searchInput}&category=${selectedCategory}&priceRange=${selectedPriceRange}`;
				}
				document.querySelectorAll('.category-link').forEach(link => {
					link.addEventListener('click', (event) => {
						event.preventDefault();
						selectedCategory = event.target.getAttribute('data-category-id');
						window.location.href = `/sortFilter?sortOption=${selectedOption}&searchQuery=${searchInput}&category=${selectedCategory}&priceRange=${selectedPriceRange}`;
					});
				});
				document.querySelectorAll('.price-link').forEach(link => {
					link.addEventListener('click', (event) => {
						event.preventDefault();
						selectedPriceRange = event.target.getAttribute('data-price-range');
						window.location.href = `/sortFilter?sortOption=${selectedOption}&searchQuery=${searchInput}&category=${selectedCategory}&priceRange=${selectedPriceRange}`;
					});
				});


				const navigateToPage = (page) => {
					const urlParams = new URLSearchParams(window.location.search);
					urlParams.set('page', page);
					window.location.href = '?' + urlParams.toString();
				}
			</script>


</body>

</html>